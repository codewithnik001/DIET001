<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Wellness Dashboard</title>
    <style>
        :root {
            --primary: #2E7D32;
            --warning: #F57C00;
            --danger: #C62828;
            --light: #E8F5E9;
            --bg: #f4f7f6;
            --text: #333;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 20px; }
        .container { max-width: 1100px; margin: 0 auto; }
        
        /* Input Section */
        .settings-panel {
            background: white; padding: 20px; border-radius: 15px; margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            display: flex; flex-wrap: wrap; gap: 15px; align-items: flex-end;
            border-left: 5px solid var(--primary);
        }
        .input-group { display: flex; flex-direction: column; gap: 5px; flex: 1; min-width: 120px; }
        label { font-size: 0.85rem; font-weight: bold; color: #666; }
        input, select { padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; }
        button#update-btn { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; }
        button#update-btn:hover { background: #1B5E20; }

        /* Dashboard Grid */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: white; padding: 20px; border-radius: 12px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: 0.3s; }
        .stat-val { font-size: 1.8rem; font-weight: 800; color: var(--primary); }
        .stat-label { font-size: 0.9rem; color: #777; margin-top: 5px; }
        .stat-sub { font-size: 0.8rem; color: #999; }
        
        /* Dynamic Colors for BMI */
        .bmi-healthy { color: var(--primary); }
        .bmi-over { color: var(--warning); }
        .bmi-obese { color: var(--danger); }

        /* Tabs */
        .tabs { display: flex; overflow-x: auto; gap: 10px; margin-bottom: 20px; padding-bottom: 5px; }
        .tab-btn { padding: 10px 20px; border: none; background: #e0e0e0; border-radius: 20px; cursor: pointer; white-space: nowrap; transition: 0.3s; font-weight: 600; }
        .tab-btn.active { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(46, 125, 50, 0.3); }

        /* Content */
        .content-card { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); display: none; animation: fadeIn 0.4s; }
        .content-card.active { display: block; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        td { padding: 15px 10px; border-bottom: 1px solid #eee; vertical-align: top; }
        .meal-time { font-weight: bold; color: var(--primary); width: 15%; min-width: 90px; }
        
        /* Dynamic Quantity Highlighting */
        .qty { font-weight: bold; color: #000; background: #fff3e0; padding: 2px 6px; border-radius: 4px; border-bottom: 2px solid var(--warning); }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 768px) {
            .settings-panel { flex-direction: column; align-items: stretch; }
            .meal-time { width: 100%; display: block; color: #888; margin-bottom: 5px; font-size: 0.9em; }
            td { display: block; width: 100%; padding: 8px 0; border: none; }
            tr { border-bottom: 1px solid #eee; display: block; padding: 10px 0; }
        }
    </style>
</head>
<body>

<div class="container">
    
    <div class="settings-panel">
        <div class="input-group">
            <label>Height (Feet)</label>
            <input type="number" id="feet" value="5">
        </div>
        <div class="input-group">
            <label>Inches</label>
            <input type="number" id="inches" value="3">
        </div>
        <div class="input-group">
            <label>Weight (kg)</label>
            <input type="number" id="weight" value="82">
        </div>
        <div class="input-group">
            <label>Age</label>
            <input type="number" id="age" value="24">
        </div>
        <div class="input-group">
            <label>Activity</label>
            <select id="activity">
                <option value="1.2">Sedentary (Desk Job)</option>
                <option value="1.375">Lightly Active (1-3 days/wk)</option>
                <option value="1.55">Moderately Active (3-5 days/wk)</option>
                <option value="1.725">Very Active</option>
            </select>
        </div>
        <button id="update-btn" onclick="calculatePlan()">Update Plan â†»</button>
    </div>

    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-val" id="bmi-val">--</div>
            <div class="stat-label">Your BMI</div>
            <div class="stat-sub" id="bmi-cat">Calculated</div>
        </div>
        <div class="stat-card">
            <div class="stat-val" id="cal-target">--</div>
            <div class="stat-label">Daily Calories</div>
            <div class="stat-sub">For Weight Loss</div>
        </div>
        <div class="stat-card">
            <div class="stat-val" id="water-target">--</div>
            <div class="stat-label">Water Goal</div>
            <div class="stat-sub">Based on Weight</div>
        </div>
        <div class="stat-card">
            <div class="stat-val" id="protein-target">--</div>
            <div class="stat-label">Protein Goal</div>
            <div class="stat-sub">Muscle Maintenance</div>
        </div>
    </div>

    <div class="tabs">
        <button class="tab-btn active" onclick="openTab('monday')">Monday</button>
        <button class="tab-btn" onclick="openTab('tuesday')">Tuesday</button>
        <button class="tab-btn" onclick="openTab('wednesday')">Wednesday</button>
        <button class="tab-btn" onclick="openTab('thursday')">Thursday</button>
        <button class="tab-btn" onclick="openTab('friday')">Friday</button>
        <button class="tab-btn" onclick="openTab('weekend')">Weekend</button>
    </div>

    <div id="monday" class="content-card active">
        <h2>Monday Plan</h2>
        <table>
            <tr><td class="meal-time">Breakfast</td><td><span class="qty qty-cheela">2</span> Besan Chillas + Mint Chutney</td></tr>
            <tr><td class="meal-time">Lunch</td><td><span class="qty qty-roti">1</span> Multigrain Roti + 1 bowl Arhar Dal + Salad</td></tr>
            <tr><td class="meal-time">Snack</td><td>1 cup Green Tea + <span class="qty qty-snack">1 cup</span> Roasted Makhana</td></tr>
            <tr><td class="meal-time">Dinner</td><td>Paneer Bhurji (<span class="qty qty-paneer">100g</span>) + <span class="qty qty-toast">1 Toast</span> + Veggies</td></tr>
        </table>
    </div>

    <div id="tuesday" class="content-card">
        <h2>Tuesday Plan</h2>
        <table>
            <tr><td class="meal-time">Breakfast</td><td><span class="qty qty-oats">40g</span> Oats Porridge + 1/2 Apple</td></tr>
            <tr><td class="meal-time">Lunch</td><td><span class="qty qty-roti">1</span> Multigrain Roti + 1 bowl Chole + Salad</td></tr>
            <tr><td class="meal-time">Snack</td><td>1 cup Coffee + <span class="qty qty-snack">1 cup</span> Roasted Chana</td></tr>
            <tr><td class="meal-time">Dinner</td><td>Soya Chunk Pulao (<span class="qty qty-soya">50g</span> soya) + Raita</td></tr>
        </table>
    </div>

    <div id="wednesday" class="content-card">
        <h2>Wednesday Plan</h2>
        <table>
            <tr><td class="meal-time">Breakfast</td><td>Paneer Sandwich (<span class="qty qty-bread">2 slices</span>)</td></tr>
            <tr><td class="meal-time">Lunch</td><td><span class="qty qty-roti">1</span> Multigrain Roti + 1 bowl Moong Dal + Sabzi</td></tr>
            <tr><td class="meal-time">Snack</td><td>1 cup Green Tea + 1 Fruit</td></tr>
            <tr><td class="meal-time">Dinner</td><td>Dal Khichdi (<span class="qty qty-rice">0.5 cup</span> rice) + Curd</td></tr>
        </table>
    </div>

    <div id="thursday" class="content-card">
        <h2>Thursday Plan</h2>
        <table>
            <tr><td class="meal-time">Breakfast</td><td><span class="qty qty-cheela">2</span> Moong Dal Chillas + Mint Chutney</td></tr>
            <tr><td class="meal-time">Lunch</td><td><span class="qty qty-roti">1</span> Multigrain Roti + 1 bowl Rajma + Salad</td></tr>
            <tr><td class="meal-time">Snack</td><td>1 cup Coffee + <span class="qty qty-snack">1 cup</span> Roasted Makhana</td></tr>
            <tr><td class="meal-time">Dinner</td><td>Tofu Stir Fry (<span class="qty qty-paneer">100g</span>) + Veggies</td></tr>
        </table>
    </div>

    <div id="friday" class="content-card">
        <h2>Friday Plan</h2>
        <table>
            <tr><td class="meal-time">Breakfast</td><td>Vegetable Poha (<span class="qty qty-poha">1 cup</span>)</td></tr>
            <tr><td class="meal-time">Lunch</td><td><span class="qty qty-roti">1</span> Multigrain Roti + 1 bowl Masoor Dal + Sabzi</td></tr>
            <tr><td class="meal-time">Snack</td><td>1 cup Green Tea + <span class="qty qty-snack">1 cup</span> Roasted Chana</td></tr>
            <tr><td class="meal-time">Dinner</td><td>Paneer Tikka (<span class="qty qty-paneer">100g</span>) + Salad</td></tr>
        </table>
    </div>
    
    <div id="weekend" class="content-card">
        <h2>Weekend Plan</h2>
        <table>
            <tr><td class="meal-time">Sat Lunch</td><td>Mix Dal + <span class="qty qty-roti">1</span> Roti + Raita</td></tr>
            <tr><td class="meal-time">Sat Dinner</td><td><span class="qty qty-cheela">2</span> Besan Cheela + Curd</td></tr>
            <tr><td class="meal-time">Sun Note</td><td>Moderate Cheat Meal allowed for Lunch. Keep Dinner light (Soup/Salad).</td></tr>
        </table>
    </div>

</div>

<script>
    function calculatePlan() {
        // 1. Get Values
        let ft = parseFloat(document.getElementById('feet').value);
        let inch = parseFloat(document.getElementById('inches').value);
        let weight = parseFloat(document.getElementById('weight').value);
        let age = parseFloat(document.getElementById('age').value);
        let activity = parseFloat(document.getElementById('activity').value);

        // 2. Calculate Height in Meters & BMI
        let totalInches = (ft * 12) + inch;
        let heightM = totalInches * 0.0254;
        let bmi = (weight / (heightM * heightM)).toFixed(1);

        // 3. BMI Category & Color Logic
        let bmiDisplay = document.getElementById('bmi-val');
        let bmiCat = document.getElementById('bmi-cat');
        
        bmiDisplay.innerText = bmi;
        bmiDisplay.className = "stat-val"; // Reset class

        if (bmi < 18.5) {
            bmiCat.innerText = "Underweight";
            bmiDisplay.classList.add("bmi-over");
        } else if (bmi < 24.9) {
            bmiCat.innerText = "Healthy Weight";
            bmiDisplay.classList.add("bmi-healthy");
        } else if (bmi < 29.9) {
            bmiCat.innerText = "Overweight";
            bmiDisplay.classList.add("bmi-over");
        } else {
            bmiCat.innerText = "Obese";
            bmiDisplay.classList.add("bmi-obese");
        }

        // 4. Calculate Calories (Mifflin-St Jeor Equation for Females)
        // BMR = 10W + 6.25H - 5A - 161
        let heightCm = heightM * 100;
        let bmr = (10 * weight) + (6.25 * heightCm) - (5 * age) - 161;
        let tdee = bmr * activity;
        let goalCalories = Math.round(tdee - 500); // Deficit

        // Safety Floor: Don't drop below 1200
        if (goalCalories < 1200) goalCalories = 1200;

        document.getElementById('cal-target').innerText = goalCalories + " kcal";

        // 5. Water Goal (Weight * 0.033)
        let water = (weight * 0.033).toFixed(1);
        document.getElementById('water-target').innerText = water + " L";

        // 6. Protein Goal (Approx 0.8 to 1g per kg for weight loss context)
        let protein = Math.round(weight * 0.9);
        document.getElementById('protein-target').innerText = protein + "g";

        // 7. DYNAMIC DIET ADJUSTMENT
        updatePortions(goalCalories);
    }

    function updatePortions(calories) {
        // Default (Low Calorie / <1400)
        let p_roti = "1";
        let p_cheela = "2 small";
        let p_rice = "0.5 cup";
        let p_oats = "30g";
        let p_paneer = "100g";
        let p_snack = "1 small cup";
        let p_toast = "1 slice";

        // Mid Tier (1400 - 1700)
        if (calories >= 1400 && calories < 1700) {
            p_roti = "1.5";
            p_cheela = "2 medium";
            p_rice = "1 cup";
            p_oats = "45g";
            p_paneer = "120g";
            p_snack = "1 cup";
            p_toast = "2 slices";
        }
        // High Tier (> 1700)
        else if (calories >= 1700) {
            p_roti = "2";
            p_cheela = "3";
            p_rice = "1.5 cups";
            p_oats = "60g";
            p_paneer = "150g";
            p_snack = "1 large bowl";
            p_toast = "2 slices + Peanut Butter";
        }

        // Apply changes to DOM
        updateClass("qty-roti", p_roti);
        updateClass("qty-cheela", p_cheela);
        updateClass("qty-rice", p_rice);
        updateClass("qty-oats", p_oats);
        updateClass("qty-paneer", p_paneer);
        updateClass("qty-snack", p_snack);
        updateClass("qty-toast", p_toast);
    }

    function updateClass(className, value) {
        let elements = document.getElementsByClassName(className);
        for(let i=0; i<elements.length; i++) {
            elements[i].innerText = value;
        }
    }

    function openTab(tabName) {
        var contents = document.getElementsByClassName("content-card");
        for (var i = 0; i < contents.length; i++) { contents[i].classList.remove("active"); }
        var buttons = document.getElementsByClassName("tab-btn");
        for (var i = 0; i < buttons.length; i++) { buttons[i].classList.remove("active"); }
        document.getElementById(tabName).classList.add("active");
        event.currentTarget.classList.add("active");
    }

    // Initialize on load
    window.onload = calculatePlan;
</script>

</body>
</html>
